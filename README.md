# React Inside

React UI 컴포넌트는 매우 독립적이며 특정 관심사에 집중된 기능 블록이다.\
예를 들어 날짜선택, 캡차, 주소, 우편번호 요소를 위한 컴포넌트가 있다고 하자.

이런 컴포넌트는 **시각적 표현과 동작을 구현하는 논리** 를 모두 담고 있다.\
어떤 컴포넌트는 서버와 직접 통신하기도 한다. 예를 들어 자동완성 컴포넌트가 자동완성 목록을 서버에서 받아오는 경우이다.

컴포넌트 기반 아키텍처(component-based-architectrue) 는 리액트 이전에도 존재했다.
이러한 아키텍처는 일체형 UI에 비해 재사용과 유지보수, 확장이 용이하다.

## React 가 해결할 수 있는 문제

데이터가 변경될 때마다 뷰를 직접 변경하고 관리하는 것은 매우 고통스러운 일이다.

> "우리는 한가지 문제를 해결하기 위해 React를 만들었습니다. 우리가 해결하고자 한 문제는 시간에 따라 변화하는 데이터를 다루는 거대한 어플리케이션 개발입니다."

React 는 순수 자바스크립트로 만든 컴포넌트 기반 아키텍처다.\
선언형 스타일이며, 강력하고 개발자 친화적인 DOM 추상화를 제공한다.

### 간결성

> "Keep it simple, stupid."

컴퓨터 공학에서 간결성은 개발자와 사용자에게 중요한 가치다.
React 를 간결하게 만드는 기능들을 정리해보면 다음과 같다.

* 뷰를 자동으로 갱신하는 선언형 스타일
* 탬플릿 엔진같은 도메인 특정 언어를 사용하지 않는다.
* 크로스 브라우징을 위해 다르게 구현할 수 밖에 없었던 인터페이스나 이벤트 핸들링을 정규화 한다.

#### 가상 DOM

React 는 내부적으로 가상 DOM 을 사용하여 브라우저에 이미 반영된 뷰와 새로운 뷰의 차이점을 찾아낸다. 이 과정을 diffing check 또는 reconcliation ( 상태와 뷰의 조정 ) 이라고 부른다.

따라서 개발자는 명시적으로 뷰를 변경하려고 노력할 필요가 없다. 상태를 갱신하면 뷰는 이에 자동으로 갱신된다.

#### 컴포넌트

HTML을 서버에서만 렌더링 하던 시절에는 HTML 과 자바스크립트를 분리해놓아도 문제가 없었고, 자바스크립트는 글자를 반짝이게 하는 수준의 단순한 기능만 구현했다.

반면에, 요즘은 복잡한 사용자 입력을 처리하고 브라우저에서 렌더링을 수행한다.\
즉, HTML 과 자바스크립트가 기능적으로 밀접하게 결합되어 있다. 따라서 HTML과 자바스크립트를 분리하지 않는 방식이 개발자에게 더 합리적이다.

* **잘못된 관심사의 분리** : 한가지 기능을 위해 두 개의 파일로 분리한다. ( html, js )
* **관심사의 분리** : 데이터 서비스나 뷰 레이어 처럼 서로 다른 기능을 분리한다.

### 추상화

React 는 내부의 인터페이스를 숨기고, 대신에 정규화 과정을 거친 합성 메서드와 속성을 제공한다.\
예를 들어 onClick 이벤트가 발생하면 이벤트 핸들러는 브라우저의 원본 이벤트 객체 대신 이 원본 객체를 감싼 합성 이벤트 객체(synthetic event object) 를 전달받는다.
**브라우저의 종류와 상관없이 항상 같은 이벤트 객체를 전달받는 것이다.**\
또한 React 는 터치 이벤트에 대해서도 합성 이벤트를 제공하므로 모바일 기기를 대응한 웹 앱을 만들 때 매우 유용하다.

### 리액티브 프로그래밍 !== React

React를 리액티브 프로그래밍이라고 볼 수는 없다. 리액티브 프로그래밍이나 아키텍처는 이보다 더 이벤트 기반이고, 탄력성과 반응성이 뛰어나다.\
옵저버블을 이용해서 비동기 데이터 스트림을 다루려면 RxJs 같은 도구를 사용해야 한다.
